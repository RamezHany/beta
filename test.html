<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>لعبة اعرف نفسك</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
    }
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px) scale(0.95); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
    .btn-hover {
      transition: all 0.2s ease-in-out;
    }
    .btn-hover:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    .btn-hover:active {
      transform: scale(0.98);
    }
    .card {
      background: white;
      border-radius: 1.5rem;
      box-shadow: 0 15px 35px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .result-bounce {
      animation: pop 0.7s ease-out;
    }
    @keyframes pop {
      0% { transform: scale(0.7); opacity: 0; }
      70% { transform: scale(1.1); opacity: 1; }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

  <div id="quiz-container" class="w-full max-w-2xl mx-auto card p-6 sm:p-10 text-center fade-in">

    <!-- Start Screen -->
    <div id="start-screen">
      <h1 class="text-4xl font-bold text-indigo-600 mb-4">🌟 لعبة اعرف نفسك 🌟</h1>
      <p class="text-gray-600 mb-8 text-lg">اختبر شخصيتك بطريقة ممتعة 👇</p>
      <button id="start-btn" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-12 rounded-full text-xl btn-hover">
        يلا نبدأ 🚀
      </button>
    </div>

    <!-- Quiz Screen -->
    <div id="quiz-screen" class="hidden">
      <!-- Progress -->
      <div class="w-full bg-gray-200 rounded-full h-4 mb-4 relative">
        <div id="progress-bar" class="bg-green-500 h-4 rounded-full" style="width: 0%"></div>
        <span id="progress-text" class="absolute left-1/2 top-[-28px] text-white text-sm font-bold transform -translate-x-1/2"></span>
      </div>

      <!-- Question -->
      <div id="question-area" class="mb-6">
        <p id="question-number" class="text-sm text-indigo-500 mb-2 font-semibold"></p>
        <h2 id="question-text" class="text-2xl font-bold"></h2>
      </div>

      <!-- Answers -->
      <div id="answers-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
    </div>

    <!-- Result Screen -->
    <div id="result-screen" class="hidden">
      <h2 class="text-3xl font-bold text-indigo-600 mb-4">🎉 شخصيتك طلعت...</h2>
      <div id="result-icon" class="text-7xl mb-4 result-bounce"></div>
      <p id="result-text" class="text-xl text-gray-700 mb-8"></p>
      <button id="restart-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-10 rounded-full text-lg btn-hover">
        🔄 العب تاني
      </button>
    </div>

  </div>

  <script>
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    const startBtn = document.getElementById('start-btn');
    const restartBtn = document.getElementById('restart-btn');
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    const questionNumberEl = document.getElementById('question-number');
    const questionTextEl = document.getElementById('question-text');
    const answersContainer = document.getElementById('answers-container');
    const resultIconEl = document.getElementById('result-icon');
    const resultTextEl = document.getElementById('result-text');

    const questions = [
      { question: "بتحب تقضي الويك إند إزاي؟", answers: [
        { text: "🎉 مع شلة صحاب ولمة", value: "social" },
        { text: "📖 في البيت مع كتاب أو فيلم", value: "calm" },
        { text: "🌍 أروح مكان جديد وأغامر", value: "adventurous" },
        { text: "🎨 أعمل حاجة فنية بمزاج", value: "creative" }
      ]},
      { question: "لما بتقابلك مشكلة، أول حاجة بتعملها إيه؟", answers: [
        { text: "📝 أحللها بالمنطق وأعمل خطة", value: "logical" },
        { text: "📞 أكلم صحابي آخد رأيهم", value: "social" },
        { text: "💡 أفكر في حلول مجنونة", value: "creative" },
        { text: "🤔 بمشي ورا إحساسي", value: "calm" }
      ]},
      { question: "إيه أكتر جو بيخليك فايق؟", answers: [
        { text: "🏙 مكان زحمة ومليان حركة", value: "social" },
        { text: "🌳 وسط الطبيعة والخضرة", value: "adventurous" },
        { text: "🎭 مكان كله إبداع", value: "creative" },
        { text: "🏡 مكان هادي ومنظم", value: "calm" }
      ]}
    ];

    const resultsMap = {
      social: { icon: '🥳', text: 'إنت اجتماعي وبتحب اللمة!' },
      calm: { icon: '😌', text: 'إنت رايق وبتحب الهدوء.' },
      adventurous: { icon: '🚀', text: 'إنت بتحب المغامرة والتجارب الجديدة.' },
      creative: { icon: '🎨', text: 'إنت مبدع ودماغك مليانة أفكار.' },
      logical: { icon: '🧐', text: 'إنت منطقي وعقلاني بطبعك.' }
    };

    let currentQuestionIndex = 0;
    let scores = {};

    function startGame() {
      currentQuestionIndex = 0;
      scores = { social: 0, calm: 0, adventurous: 0, creative: 0, logical: 0 };
      startScreen.classList.add('hidden');
      resultScreen.classList.add('hidden');
      quizScreen.classList.remove('hidden');
      showQuestion();
      updateProgressBar();
    }

    function updateProgressBar() {
      const progress = (currentQuestionIndex / questions.length) * 100;
      progressBar.style.width = `${progress}%`;
      progressText.textContent = `${Math.round(progress)}%`;
    }

    function showQuestion() {
      answersContainer.innerHTML = '';
      const question = questions[currentQuestionIndex];
      questionNumberEl.textContent = `السؤال ${currentQuestionIndex + 1} من ${questions.length}`;
      questionTextEl.textContent = question.question;
      question.answers.forEach(answer => {
        const btn = document.createElement('button');
        btn.textContent = answer.text;
        btn.className = "p-4 rounded-xl text-lg font-semibold bg-indigo-50 text-indigo-800 border border-indigo-200 hover:bg-indigo-100 btn-hover";
        btn.onclick = () => selectAnswer(answer.value);
        answersContainer.appendChild(btn);
      });
    }

    function selectAnswer(value) {
      scores[value]++;
      currentQuestionIndex++;
      updateProgressBar();
      if (currentQuestionIndex < questions.length) {
        showQuestion();
      } else {
        setTimeout(showResults, 500);
      }
    }

    function showResults() {
      quizScreen.classList.add('hidden');
      resultScreen.classList.remove('hidden');
      let maxScore = 0, resultKey = 'social';
      for (const key in scores) {
        if (scores[key] > maxScore) {
          maxScore = scores[key];
          resultKey = key;
        }
      }
      const final = resultsMap[resultKey];
      resultIconEl.textContent = final.icon;
      resultTextEl.textContent = final.text;
    }

    startBtn.addEventListener('click', startGame);
    restartBtn.addEventListener('click', startGame);
  </script>
</body>
</html>
